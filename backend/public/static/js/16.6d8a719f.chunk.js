(this["webpackJsonp@devias-io/material-kit-pro-react"]=this["webpackJsonp@devias-io/material-kit-pro-react"]||[]).push([[16],{905:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0);function r(){var e=Object(n.useRef)(!0);return Object(n.useEffect)((function(){return function(){e.current=!1}}),[]),e}},942:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(2),o=a.n(l);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var u=function(e){var t=e.color,a=e.size,n=i(e,["color","size"]);return r.a.createElement("svg",c({xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},n),r.a.createElement("path",{d:"M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"}),r.a.createElement("line",{x1:"18",y1:"9",x2:"12",y2:"15"}),r.a.createElement("line",{x1:"12",y1:"9",x2:"18",y2:"15"}))};u.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},u.defaultProps={color:"currentColor",size:"24"},t.a=u},984:function(e,t,a){"use strict";a.r(t);var n=a(60),r=a.n(n),l=a(96),o=a(31),c=a(0),i=a.n(c),u=a(452),s=a(894),m=a(895),p=a(79),d=a(279),f=a(33),b=a(905),g=a(41),E=a(30),v=a(4),h=a(921),y=a(872),O=a(484),x=a(906),j=a.n(x),w=Object(u.a)((function(e){return{root:{marginBottom:"50px"},action:{marginBottom:e.spacing(1),"& + &":{marginLeft:e.spacing(1)}},actionIcon:{marginRight:e.spacing(1)}}}));var S=function(e){var t=e.className,a=Object(g.a)(e,["className"]),n=w();return i.a.createElement(m.a,Object.assign({className:Object(v.a)(n.root,t),container:!0,justify:"space-between",spacing:3},a),i.a.createElement(m.a,{item:!0},i.a.createElement(h.a,{separator:i.a.createElement(j.a,{fontSize:"small"}),"aria-label":"breadcrumb"},i.a.createElement(y.a,{variant:"body1",color:"inherit",to:"/app",component:E.a},"Dashboard"),i.a.createElement(y.a,{variant:"body1",color:"inherit",to:"/app/management",component:E.a},"expenses")),i.a.createElement(O.a,{variant:"h3",color:"textPrimary"},"Expenses List")))},k=a(213),P=a.n(k),C=a(281),z=a.n(C),N=a(924),_=a(881),B=a(898),R=a(890),T=a(978),q=a(982),L=a(980),W=a(981),A=a(979),V=a(887),I=a(203),D=a(985),M=a(876),Y=a(942),H=a(2),F=a.n(H);function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function $(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var G=function(e){var t=e.color,a=e.size,n=$(e,["color","size"]);return i.a.createElement("svg",J({xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},n),i.a.createElement("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),i.a.createElement("polyline",{points:"17 21 17 13 7 13 7 21"}),i.a.createElement("polyline",{points:"7 3 7 8 15 8"}))};G.propTypes={color:F.a.string,size:F.a.oneOfType([F.a.string,F.a.number])},G.defaultProps={color:"currentColor",size:"24"};var K=G,Q=[{value:"createdAt|asc",label:"Record date(old to new)"},{value:"createdAt|desc",label:"Record date(new to old)"},{value:"total|desc",label:"total amount (high to low)"},{value:"total|asc",label:"total amount (low to high)"}];function U(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}function X(e,t){var a=t.split("|"),n=Object(o.a)(a,2),r=n[0],l=function(e,t){return"desc"===e?function(e,a){return U(e,a,t)}:function(e,a){return-U(e,a,t)}}(n[1],r),c=e.map((function(e,t){return[e,t]}));return c.sort((function(e,t){var a=l(e[0],t[0]);return 0!==a?a:e[1]-t[1]})),c.map((function(e){return e[0]}))}var Z=Object(u.a)((function(e){return{root:{},avatar:{height:42,width:42,marginRight:e.spacing(1)},edit:{height:"30px",width:"120px",fontSize:"15px",backgroundColor:"lightblue",borderRadius:"5px"}}}));function ee(e){var t=e.className,a=e.expenses,n=e.deleteExpense,r=e.editExpense,l=Object(g.a)(e,["className","expenses","deleteExpense","editExpense"]),u=Z(),s=Object(c.useState)(0),m=Object(o.a)(s,2),p=m[0],d=m[1],f=Object(c.useState)(10),b=Object(o.a)(f,2),E=b[0],h=b[1],y=Object(c.useState)(Q[0].value),x=Object(o.a)(y,2),j=x[0],w=x[1],S=Object(c.useState)(null),k=Object(o.a)(S,2),C=k[0],H=k[1],F=Object(c.useRef)(null),J=Object(c.useRef)(null),$=Object(c.useRef)(null),G=function(e,t,a){return e.slice(t*a,t*a+a)}(X(a,j),p,E);return i.a.createElement(N.a,Object.assign({className:Object(v.a)(u.root,t)},l),i.a.createElement(_.a,null),i.a.createElement(B.a,{p:2,minHeight:56,display:"flex",alignItems:"center"},i.a.createElement(R.a,{label:"Sort By",name:"sort",onChange:function(e){e.persist(),w(e.target.value)},select:!0,SelectProps:{native:!0},value:j,variant:"outlined"},Q.map((function(e){return i.a.createElement("option",{key:e.value,value:e.value},e.label)})))),i.a.createElement(z.a,null,i.a.createElement(B.a,null,i.a.createElement(T.a,null,i.a.createElement(q.a,null,i.a.createElement(L.a,null,i.a.createElement(W.a,null,"No"),i.a.createElement(W.a,null,"Expense name"),i.a.createElement(W.a,null,"Total need amount ($)"),i.a.createElement(W.a,null,"Real Payment"),i.a.createElement(W.a,null,"Date"),i.a.createElement(W.a,{align:"right"},"Actions"))),i.a.createElement(A.a,null,G.map((function(e){return i.a.createElement(L.a,{hover:!0,key:e._id},i.a.createElement(W.a,null,e.number),i.a.createElement(W.a,null,C!==e._id&&e.name,C===e._id&&i.a.createElement("input",{type:"text",className:u.edit,ref:F,defaultValue:e.name})),i.a.createElement(W.a,null,C!==e._id&&e.total.toFixed(2),C===e._id&&i.a.createElement("input",{type:"number",className:u.edit,ref:J,defaultValue:e.total})),i.a.createElement(W.a,null,C!==e._id&&e.payment.toFixed(2),C===e._id&&i.a.createElement("input",{type:"number",className:u.edit,ref:$,defaultValue:e.payment})),i.a.createElement(W.a,null,P()(e.createdAt).format("DD/MM/YYYY")),i.a.createElement(W.a,{align:"right"},C!==e._id&&i.a.createElement(V.a,{onClick:function(){H(e._id)}},i.a.createElement(I.a,{fontSize:"small"},i.a.createElement(M.a,null))),C!==e._id&&i.a.createElement(V.a,{onClick:function(){window.confirm("Are you really want to delete?")&&n(e._id)}},i.a.createElement(I.a,{fontSize:"small"},i.a.createElement(Y.a,null))),C===e._id&&i.a.createElement(V.a,{onClick:function(){r(F.current.value,J.current.value,$.current.value,e._id),H(null)}},i.a.createElement(I.a,{fontSize:"small"},i.a.createElement(K,null))),C===e._id&&i.a.createElement(V.a,{onClick:function(){H(null)}},i.a.createElement(O.a,{variant:"h6"},"Cancel"))))})))))),i.a.createElement(D.a,{component:"div",count:a.length,onChangePage:function(e,t){d(t)},onChangeRowsPerPage:function(e){h(e.target.value)},page:p,rowsPerPage:E,rowsPerPageOptions:[5,10,25]}))}ee.defaultProps={customers:[]};var te=ee,ae=a(910),ne=a(911),re=a(161),le=a(873),oe=a(95),ce=Object(u.a)((function(){return{root:{padding:"10px"}}}));function ie(e){var t=e.className,a=e.onSubmitSuccess,n=Object(g.a)(e,["className","onSubmitSuccess"]),o=ce(),c=Object(re.useSnackbar)().enqueueSnackbar;return i.a.createElement(N.a,{className:Object(v.a)(o.root,t)},i.a.createElement(ne.a,{initialValues:{name:"",total:"",payment:""},validationSchema:ae.b().shape({name:ae.c().max(255).required("Expanses name is required"),total:ae.a().required("total amount is required"),payment:ae.a().required("payment amount is required")}),onSubmit:function(){var e=Object(l.a)(r.a.mark((function e(t,n){var l,o,i,u,s,m,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=n.setErrors,o=n.setStatus,i=n.setSubmitting,e.prev=1,u=t.name,s=t.total,m=t.payment,d="",e.next=6,p.a.post(oe.a+"expenses/add",{name:u,total:s,payment:m}).then((function(e){d=e.data}));case 6:d.success?(o({success:!0}),i(!1),c(d.message,{variant:"success"})):c(d.message,{variant:"error"}),a(),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),o({success:!1}),l({submit:e.t0.message}),i(!1);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var t=e.errors,a=e.handleBlur,r=e.handleChange,l=e.handleSubmit,o=e.isSubmitting,c=e.touched,u=e.values;return i.a.createElement("form",Object.assign({onSubmit:l},n),i.a.createElement(R.a,{error:Boolean(c.name&&t.name),fullWidth:!0,helperText:c.name&&t.name,label:"Expanses Name",margin:"normal",name:"name",onBlur:a,onChange:r,type:"string",value:u.name,variant:"outlined"}),i.a.createElement(R.a,{error:Boolean(c.total&&t.total),fullWidth:!0,helperText:c.total&&t.total,label:"Total amount(need)",margin:"normal",name:"total",onBlur:a,onChange:r,type:"number",value:u.total,variant:"outlined"}),i.a.createElement(R.a,{error:Boolean(c.payment&&t.payment),fullWidth:!0,helperText:c.payment&&t.payment,label:"Real Payment",margin:"normal",name:"payment",onBlur:a,onChange:r,type:"number",value:u.payment,variant:"outlined"}),i.a.createElement(B.a,{mt:2},i.a.createElement(le.a,{color:"secondary",disabled:o,fullWidth:!0,size:"large",type:"submit",variant:"contained"},"Add")))})))}ie.default={onSubmitSuccess:function(){}};var ue=ie,se=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,paddingTop:e.spacing(3)}}}));t.default=function(){var e=se(),t=Object(f.g)(),a=Object(b.a)(),n=Object(c.useState)(null),u=Object(o.a)(n,2),g=u[0],E=u[1],v=Object(c.useCallback)((function(){p.a.get(oe.a+"expenses/list").then((function(e){a.current&&E(e.data.expenses)}))}),[a]);if(Object(c.useEffect)((function(){v()}),[v]),!g)return null;var h=function(){var e=Object(l.a)(r.a.mark((function e(t,a,n,l){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post(oe.a+"expenses/update",{id:l,name:t,total:a,payment:n}).then((function(e){E(e.data.expenses)}));case 2:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}();return i.a.createElement(d.a,{className:e.root,title:"Invoice List"},i.a.createElement(s.a,{maxWidth:!1,style:{width:"100%"}},i.a.createElement(S,null),i.a.createElement(m.a,{container:!0,spacing:2},i.a.createElement(m.a,{item:!0,mt:3,lg:8},i.a.createElement(te,{deleteExpense:function(e){p.a.get(oe.a+"expenses/delete/"+e).then((function(e){E(e.data.expenses)}))},expenses:g,editExpense:h})),i.a.createElement(m.a,{item:!0,mt:3,lg:4},i.a.createElement(ue,{onSubmitSuccess:function(){t.push("/"),t.push("/app/expenses")}})))))}}}]);
//# sourceMappingURL=16.6d8a719f.chunk.js.map