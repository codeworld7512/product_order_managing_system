(this["webpackJsonp@devias-io/material-kit-pro-react"]=this["webpackJsonp@devias-io/material-kit-pro-react"]||[]).push([[15],{905:function(e,a,t){"use strict";t.d(a,"a",(function(){return n}));var r=t(0);function n(){var e=Object(r.useRef)(!0);return Object(r.useEffect)((function(){return function(){e.current=!1}}),[]),e}},943:function(e,a,t){"use strict";var r=t(81),n=t(31),c=t(41),i=t(0),l=t.n(i),o=t(4),s=t(961),u=t(452),m=t(895),d=t(484),p=Object(u.a)((function(e){return{root:{display:"flex"},dropZone:{border:"2px dashed ".concat(e.palette.divider),outline:"none",justifyContent:"center",flexWrap:"wrap",display:"flex",alignItems:"center","&:hover":{backgroundColor:e.palette.action.hover,opacity:.5,cursor:"pointer"}},dragActive:{backgroundColor:e.palette.action.active,opacity:.5},image:{width:80},content:{textAlign:"center"}}}));a.a=function(e){var a,t=e.className,u=e.value,b=e.avatar,g=Object(c.a)(e,["className","value","avatar"]),E=p(),v=Object(i.useState)([]),f=Object(n.a)(v,2),h=f[0],j=f[1],O=Object(i.useState)(b),x=Object(n.a)(O,2),P=x[0],y=x[1];Object(i.useEffect)((function(){u(h)}),[h]);var k=Object(i.useCallback)((function(e){j(e[0]);var a=URL.createObjectURL(e[0]);y(a)}),[]),S=Object(s.a)({onDrop:k}),N=S.getRootProps,C=S.getInputProps,B=S.isDragActive;return l.a.createElement(m.a,Object.assign({className:Object(o.a)(E.root,t),container:!0},g),l.a.createElement(m.a,{item:!0,lg:6,md:6,sm:12,className:E.content},l.a.createElement("img",{alt:"No selected!",src:P,width:"200px",height:"150px"})),l.a.createElement(m.a,Object.assign({className:Object(o.a)((a={},Object(r.a)(a,E.dropZone,!0),Object(r.a)(a,E.dragActive,B),a)),item:!0,lg:6,md:6,sm:12},N()),l.a.createElement("input",C()),l.a.createElement("div",null,l.a.createElement("img",{alt:"Select file",className:E.image,src:"/static/images/undraw_add_file2_gvbb.svg"})),l.a.createElement("div",null,l.a.createElement(d.a,{gutterBottom:!0,variant:"h3"},"Select product image"))))}},991:function(e,a,t){"use strict";t.r(a);var r=t(31),n=t(0),c=t.n(n),i=t(452),l=t(894),o=t(279),s=t(41),u=t(30),m=t(4),d=t(895),p=t(921),b=t(872),g=t(484),E=t(873),v=t(906),f=t.n(v),h=Object(i.a)((function(){return{root:{marginLeft:"30px",width:"95%"}}}));var j=function(e){var a=e.className,t=Object(s.a)(e,["className"]),r=h();return c.a.createElement(d.a,Object.assign({className:Object(m.a)(r.root,a),container:!0,justify:"space-between",spacing:3},t),c.a.createElement(d.a,{item:!0},c.a.createElement(p.a,{separator:c.a.createElement(f.a,{fontSize:"small"}),"aria-label":"breadcrumb"},c.a.createElement(b.a,{variant:"body1",color:"inherit",to:"/app",component:u.a},"Dashboard"),c.a.createElement(g.a,{variant:"body1",color:"textPrimary"},"Stores"),c.a.createElement(g.a,{variant:"body1",color:"textPrimary"},"Edit Products")),c.a.createElement(g.a,{variant:"h3",color:"textPrimary"},"Please Edit this product!")),c.a.createElement(d.a,{item:!0},c.a.createElement(E.a,{component:u.a,to:"/app/stores/productList"},"Cancel")))},O=t(60),x=t.n(O),P=t(96),y=t(33),k=t(910),S=t(911),N=t(161),C=t(924),B=t(972),w=t(881),q=t(919),A=t(890),L=t(898),T=t(855),W=t(943),_=t(79),D=t(95),I=Object(i.a)((function(){return{root:{},editor:{"& .ql-editor":{height:400}}}}));var R=function(e){var a=e.className,t=e.product,r=Object(s.a)(e,["className","product"]),n=I(),i=Object(y.g)(),l=Object(N.useSnackbar)().enqueueSnackbar;return c.a.createElement(S.a,{initialValues:{images:"",name:t.name,amount:t.amount,price:t.price,salePrice:t.saleprice},validationSchema:k.b().shape({name:k.c().max(255).required("name is required"),amount:k.c().max(255).required("amount is required"),price:k.a().min(0).required("price is required"),salePrice:k.a().min(0).required("salePrice is required")}),onSubmit:function(){var e=Object(P.a)(x.a.mark((function e(a,r){var n,c,o,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.setErrors,c=r.setStatus,o=r.setSubmitting,e.prev=1,0===a.images.length){e.next=9;break}return(s=new FormData).append("image",a.images),e.next=7,_.a.post(D.a+"product/update",s,{headers:{id:t._id,name:a.name,amount:a.amount,price:a.price,saleprice:a.salePrice}}).then((function(e){c({success:!0}),o(!1),l(e.data.message,{variant:"success"}),i.push("/app/stores/productList")}));case 7:e.next=11;break;case 9:return e.next=11,_.a.post(D.a+"product/update/noimage",{id:t._id,name:a.name,amount:a.amount,price:a.price,saleprice:a.salePrice}).then((function(e){c({success:!0}),o(!1),l(e.data.message,{variant:"success"}),i.push("/app/stores/productList")}));case 11:e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),n({submit:e.t0.message}),c({success:!1}),o(!1);case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(a,t){return e.apply(this,arguments)}}()},(function(e){var i=e.errors,l=e.handleBlur,o=e.handleChange,s=e.handleSubmit,u=e.isSubmitting,p=e.setFieldValue,b=e.touched,g=e.values;return c.a.createElement("form",Object.assign({onSubmit:s,className:Object(m.a)(n.root,a)},r),c.a.createElement(C.a,null,c.a.createElement(B.a,{title:"Name and Amout"}),c.a.createElement(w.a,null),c.a.createElement(q.a,null,c.a.createElement(A.a,{style:{marginBottom:"20px"},error:Boolean(b.name&&i.name),fullWidth:!0,helperText:b.name&&i.name,label:"Product Name",name:"name",type:"string",onBlur:l,onChange:o,value:g.name,variant:"outlined"}),c.a.createElement(A.a,{error:Boolean(b.amount&&i.amount),fullWidth:!0,helperText:b.amount&&i.amount,label:"Products Amount",name:"amount",type:"string",onBlur:l,onChange:o,value:g.amount,variant:"outlined"}))),c.a.createElement(L.a,{mt:3},c.a.createElement(C.a,null,c.a.createElement(B.a,{title:"Upload Images"}),c.a.createElement(w.a,null),c.a.createElement(q.a,null,c.a.createElement(W.a,{name:"images",value:function(e){p("images",e)},avatar:t.avatar})))),c.a.createElement(L.a,{mt:3},c.a.createElement(C.a,null,c.a.createElement(B.a,{title:"Prices"}),c.a.createElement(w.a,null),c.a.createElement(q.a,null,c.a.createElement(d.a,{container:!0,spacing:3},c.a.createElement(d.a,{item:!0,xs:12,md:6},c.a.createElement(A.a,{error:Boolean(b.price&&i.price),fullWidth:!0,helperText:b.price&&i.price,label:"Price($)",name:"price",type:"number",onBlur:l,onChange:o,value:g.price,variant:"outlined"})),c.a.createElement(d.a,{item:!0,xs:12,md:6},c.a.createElement(A.a,{error:Boolean(b.salePrice&&i.salePrice),fullWidth:!0,helperText:b.salePrice&&i.salePrice,label:"Sale price($)",name:"salePrice",type:"number",onBlur:l,onChange:o,value:g.salePrice,variant:"outlined"})))))),i.submit&&c.a.createElement(L.a,{mt:3},c.a.createElement(T.a,{error:!0},i.submit)),c.a.createElement(L.a,{mt:2},c.a.createElement(E.a,{color:"secondary",variant:"contained",type:"submit",disabled:u},"Update")))}))},U=t(905),F=Object(i.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",justifyContent:"center",paddingTop:e.spacing(3),paddingBottom:100}}}));a.default=function(){var e=F(),a=Object(y.i)().Id,t=Object(U.a)(),i=Object(n.useState)(null),s=Object(r.a)(i,2),u=s[0],m=s[1],d=Object(n.useCallback)((function(){_.a.post(D.a+"product/edit",{id:a}).then((function(e){t.current&&m(e.data.product)}))}),[t]);return Object(n.useEffect)((function(){d()}),[d]),u?c.a.createElement(o.a,{className:e.root,title:"Product Edit"},c.a.createElement(j,null),c.a.createElement(l.a,{maxWidth:"md",style:{marginTop:"50px"}},c.a.createElement(R,{product:u}))):null}}}]);
//# sourceMappingURL=15.de929cbc.chunk.js.map